% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pips.R
\name{pips}
\alias{pips}
\title{Estimating post-intervention propensity score}
\usage{
pips(data, o, d, x, custom.table = NULL, strength = NULL, contrast = NULL)
}
\arguments{
\item{data}{A dataframe}

\item{o}{The origin variable, a string that specifies the name of the origin variable}

\item{d}{The destination or the treatment variable, a string that specifies the name of the destination variable}

\item{x}{The confounds between Y and D except for o, a vector of strings containing control variable names}

\item{custom.table}{Custom post-intervention mobility table, a "table" object where rows are origin and destination column}

\item{strength}{Strength of intervention captured by proportional log odds-ratio change, 0 indicates no intervention and 1 indicates an intervention that sets origin-destination to be independent}

\item{contrast}{A hypothetical contrast table, a "table" object where the odds-ratios in the table will be extracted to form a interventional table}
}
\value{
a dataframe that lists the propensity of receiving treatment for all indiduals, where the first column is probability of receiving destination category 1, the second column the probability of category 2, and so on
}
\description{
Estimating post-intervention propensity score
}
\examples{
# Example data
toy <- data.frame(
  padeg = factor(rep(c("A", "B", "C"), each = 3)),
  degree = factor(c("X", "Y", "Z", "X", "Y", "Z", "X", "Y", "Z")),
  sibs = rnorm(9),
  ethnic = sample(c("group1", "group2"), 9, replace = TRUE)
)

# Example usage with strength
pips(data = toy, o = "padeg", d = "degree", x = c("sibs", "ethnic"), strength = 1)

# Example usage with a custom mobility table
custom_table <- matrix(
  c(0.3, 0.4, 0.3,
    0.2, 0.5, 0.3,
    0.1, 0.6, 0.3),
  nrow = 3,
  byrow = TRUE,
  dimnames = list(c("A", "B", "C"), c("X", "Y", "Z"))
)
pips(data = toy, o = "padeg", d = "degree", x = c("sibs", "ethnic"), custom.table = custom_table)

# Example usage with a contrast table
contrast_table <- matrix(
  c(1, 2, 1,
    1, 1, 2,
    2, 1, 1),
  nrow = 3,
  byrow = TRUE,
  dimnames = list(c("A", "B", "C"), c("X", "Y", "Z"))
)
pips(data = toy, o = "padeg", d = "degree", x = c("sibs", "ethnic"), contrast = contrast_table)
}
